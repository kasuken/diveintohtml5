<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<title>WebGL & 3D - Dive Into Unicorn Magic âœ¨ğŸ¦„</title>
<link rel="stylesheet" href="unicorn-style.css">
<style>
h1:before{content:"3D Magic: "}
</style>
</head>
<body>

<p>ğŸ¦„ You are here: <a href="index.html">Unicorn Home</a> <span class="u">âœ¨</span> <a href="index.html">Dive Into Unicorn Magic</a> <span class="u">âœ¨</span></p>

<h1><br>Three-Dimensional Unicorn Realms</h1>

<p class="a">ğŸŒŸ âœ¨ ğŸŒˆ</p>

<p class="f"><span style="font-size:4em;float:left;line-height:0.8;margin:0.1em 0.2em 0 0;background:linear-gradient(45deg,#ffd700,#ff69b4,#87ceeb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:bold;">W</span>ebGL brings the power of 3D graphics to the browser â€” like opening a portal to magical three-dimensional unicorn realms! While raw WebGL is complex, modern libraries make creating stunning 3D experiences accessible to all web wizards.</p>

<h2>ğŸ® What Is WebGL?</h2>

<p>WebGL (Web Graphics Library) is a JavaScript API for rendering 2D and 3D graphics using the GPU. It's based on OpenGL ES and runs natively in modern browsers without plugins!</p>

<p><strong>What you can create:</strong></p>
<ul style="list-style:disc;padding-left:2em;">
<li style="margin:0.5em 0;">ğŸ® 3D games</li>
<li style="margin:0.5em 0;">ğŸ“Š Data visualizations</li>
<li style="margin:0.5em 0;">ğŸ—ï¸ Product configurators</li>
<li style="margin:0.5em 0;">ğŸ—ºï¸ Interactive maps</li>
<li style="margin:0.5em 0;">ğŸ¨ Creative experiences</li>
<li style="margin:0.5em 0;">ğŸ›ï¸ Virtual tours</li>
</ul>

<h2>âš ï¸ Raw WebGL: Complex!</h2>

<p>Raw WebGL is powerful but verbose. Here's a simple triangle:</p>

<pre><code>// This is just to draw a triangle... hundreds of lines!
const canvas = document.getElementById('canvas');
const gl = canvas.getContext('webgl2');

// Vertex shader (GPU program)
const vertexShaderSource = `
  attribute vec4 position;
  void main() {
    gl_Position = position;
  }
`;

// Fragment shader (GPU program for colors)
const fragmentShaderSource = `
  precision mediump float;
  void main() {
    gl_FragColor = vec4(0.6, 0.35, 0.71, 1.0); // Purple!
  }
`;

// Compile shaders, create program, link...
// (Many lines of boilerplate code)
// Then finally draw the triangle!</code></pre>

<p>ğŸ’¡ <strong>Don't write raw WebGL!</strong> Use libraries instead. They handle the complexity for you.</p>

<h2>âœ¨ Three.js: WebGL Made Easy</h2>

<p>Three.js is the most popular 3D library for the web. It abstracts WebGL complexity:</p>

<pre><code>// Include Three.js
&lt;script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"&gt;&lt;/script&gt;

// Create a simple 3D scene
const scene = new THREE.Scene();

// Camera (what we look through)
const camera = new THREE.PerspectiveCamera(
  75,                                    // Field of view
  window.innerWidth / window.innerHeight, // Aspect ratio
  0.1,                                   // Near clipping
  1000                                   // Far clipping
);
camera.position.z = 5;

// Renderer (draws to canvas)
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Create a purple cube (our unicorn!)
const geometry = new THREE.BoxGeometry(1, 1, 1);
const material = new THREE.MeshBasicMaterial({ color: 0x9b59b6 });
const cube = new THREE.Mesh(geometry, material);
scene.add(cube);

// Animation loop
function animate() {
  requestAnimationFrame(animate);
  
  // Rotate the cube
  cube.rotation.x += 0.01;
  cube.rotation.y += 0.01;
  
  renderer.render(scene, camera);
}

animate();</code></pre>

<h2>ğŸ¦„ Complete Three.js Example</h2>

<pre><code>// Magical unicorn scene with Three.js
class UnicornScene {
  constructor(containerId) {
    this.container = document.getElementById(containerId);
    this.init();
    this.createLights();
    this.createObjects();
    this.animate();
  }
  
  init() {
    // Scene
    this.scene = new THREE.Scene();
    this.scene.background = new THREE.Color(0x667eea);
    
    // Camera
    this.camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    this.camera.position.set(0, 2, 5);
    
    // Renderer
    this.renderer = new THREE.WebGLRenderer({ antialias: true });
    this.renderer.setSize(window.innerWidth, window.innerHeight);
    this.renderer.setPixelRatio(window.devicePixelRatio);
    this.container.appendChild(this.renderer.domElement);
    
    // Handle window resize
    window.addEventListener('resize', () => this.onResize());
  }
  
  createLights() {
    // Ambient light (soft overall lighting)
    const ambient = new THREE.AmbientLight(0xffffff, 0.5);
    this.scene.add(ambient);
    
    // Directional light (like sunlight)
    const directional = new THREE.DirectionalLight(0xffffff, 0.8);
    directional.position.set(5, 10, 5);
    this.scene.add(directional);
    
    // Point light (magical glow)
    const point = new THREE.PointLight(0xff69b4, 1, 10);
    point.position.set(0, 2, 0);
    this.scene.add(point);
  }
  
  createObjects() {
    // Create a magical sphere (unicorn orb)
    const sphereGeometry = new THREE.SphereGeometry(1, 32, 32);
    const sphereMaterial = new THREE.MeshStandardMaterial({
      color: 0x9b59b6,
      metalness: 0.7,
      roughness: 0.2,
      emissive: 0xff69b4,
      emissiveIntensity: 0.2
    });
    this.sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
    this.sphere.position.y = 1;
    this.scene.add(this.sphere);
    
    // Create ground plane
    const planeGeometry = new THREE.PlaneGeometry(10, 10);
    const planeMaterial = new THREE.MeshStandardMaterial({
      color: 0xe6e6fa,
      side: THREE.DoubleSide
    });
    this.plane = new THREE.Mesh(planeGeometry, planeMaterial);
    this.plane.rotation.x = -Math.PI / 2;
    this.scene.add(this.plane);
    
    // Add sparkles (particle system)
    this.createSparkles();
  }
  
  createSparkles() {
    const particlesGeometry = new THREE.BufferGeometry();
    const particlesCount = 1000;
    const positions = new Float32Array(particlesCount * 3);
    
    for (let i = 0; i < particlesCount * 3; i++) {
      positions[i] = (Math.random() - 0.5) * 10;
    }
    
    particlesGeometry.setAttribute(
      'position',
      new THREE.BufferAttribute(positions, 3)
    );
    
    const particlesMaterial = new THREE.PointsMaterial({
      color: 0xffd700,
      size: 0.05,
      transparent: true,
      opacity: 0.8
    });
    
    this.particles = new THREE.Points(particlesGeometry, particlesMaterial);
    this.scene.add(this.particles);
  }
  
  animate() {
    requestAnimationFrame(() => this.animate());
    
    // Rotate sphere
    this.sphere.rotation.y += 0.01;
    
    // Animate particles
    this.particles.rotation.y += 0.001;
    
    // Render scene
    this.renderer.render(this.scene, this.camera);
  }
  
  onResize() {
    this.camera.aspect = window.innerWidth / window.innerHeight;
    this.camera.updateProjectionMatrix();
    this.renderer.setSize(window.innerWidth, window.innerHeight);
  }
}

// Create the scene
const unicornScene = new UnicornScene('scene-container');</code></pre>

<h2>ğŸ¨ Loading 3D Models</h2>

<p>Load 3D models created in Blender, Maya, etc:</p>

<pre><code>// Load GLTF/GLB models (recommended format)
import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

const loader = new GLTFLoader();

loader.load(
  '/models/unicorn.glb',
  (gltf) => {
    // Model loaded successfully
    const model = gltf.scene;
    model.scale.set(2, 2, 2);
    model.position.y = 0;
    scene.add(model);
    
    console.log('âœ… Model loaded!');
  },
  (progress) => {
    // Loading progress
    const percent = (progress.loaded / progress.total) * 100;
    console.log(`Loading: ${percent.toFixed(0)}%`);
  },
  (error) => {
    console.error('âŒ Error loading model:', error);
  }
);</code></pre>

<h2>ğŸ® Interactive Controls</h2>

<pre><code>// Add mouse/touch controls
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true; // Smooth motion
controls.dampingFactor = 0.05;
controls.maxPolarAngle = Math.PI / 2; // Don't go below ground

// Update in animation loop
function animate() {
  requestAnimationFrame(animate);
  controls.update(); // Required for damping
  renderer.render(scene, camera);
}</code></pre>

<h2>ğŸ’« Physics & Animations</h2>

<p>Add physics with libraries like cannon-es or Rapier:</p>

<pre><code>// Using cannon-es for physics
import * as CANNON from 'cannon-es';

// Create physics world
const world = new CANNON.World({
  gravity: new CANNON.Vec3(0, -9.82, 0) // Earth gravity
});

// Create physics body
const sphereShape = new CANNON.Sphere(1);
const sphereBody = new CANNON.Body({
  mass: 5,
  shape: sphereShape,
  position: new CANNON.Vec3(0, 5, 0)
});
world.addBody(sphereBody);

// Ground
const groundShape = new CANNON.Plane();
const groundBody = new CANNON.Body({
  mass: 0, // Static
  shape: groundShape
});
groundBody.quaternion.setFromEuler(-Math.PI / 2, 0, 0);
world.addBody(groundBody);

// Update loop
function animate() {
  requestAnimationFrame(animate);
  
  // Step physics simulation
  world.step(1 / 60);
  
  // Copy physics position to Three.js mesh
  sphere.position.copy(sphereBody.position);
  sphere.quaternion.copy(sphereBody.quaternion);
  
  renderer.render(scene, camera);
}</code></pre>

<h2>ğŸŒŸ Other 3D Libraries</h2>

<h3>Babylon.js</h3>
<p>Full-featured game engine with built-in physics, animations, and more:</p>
<pre><code>const engine = new BABYLON.Engine(canvas, true);
const scene = new BABYLON.Scene(engine);

const camera = new BABYLON.ArcRotateCamera(
  'camera',
  0, 0, 10,
  BABYLON.Vector3.Zero(),
  scene
);

const light = new BABYLON.HemisphericLight(
  'light',
  new BABYLON.Vector3(0, 1, 0),
  scene
);

const sphere = BABYLON.MeshBuilder.CreateSphere(
  'sphere',
  { diameter: 2 },
  scene
);

engine.runRenderLoop(() => {
  scene.render();
});</code></pre>

<h3>A-Frame (VR-Ready)</h3>
<p>HTML-based 3D/VR framework:</p>
<pre><code>&lt;script src="https://aframe.io/releases/1.4.0/aframe.min.js"&gt;&lt;/script&gt;

&lt;a-scene&gt;
  &lt;a-box position="-1 0.5 -3" rotation="0 45 0" color="#9b59b6"&gt;&lt;/a-box&gt;
  &lt;a-sphere position="0 1.25 -5" radius="1.25" color="#ff69b4"&gt;&lt;/a-sphere&gt;
  &lt;a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#ffd700"&gt;&lt;/a-cylinder&gt;
  &lt;a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#e6e6fa"&gt;&lt;/a-plane&gt;
  &lt;a-sky color="#667eea"&gt;&lt;/a-sky&gt;
&lt;/a-scene&gt;</code></pre>

<h2>ğŸ“Š Use Cases & Examples</h2>

<p><strong>Product Configurator:</strong></p>
<pre><code>// Let users customize a 3D product
class ProductConfigurator {
  constructor(model) {
    this.model = model;
  }
  
  changeColor(color) {
    this.model.traverse((child) => {
      if (child.isMesh) {
        child.material.color.set(color);
      }
    });
  }
  
  changeTexture(textureUrl) {
    const loader = new THREE.TextureLoader();
    loader.load(textureUrl, (texture) => {
      this.model.traverse((child) => {
        if (child.isMesh) {
          child.material.map = texture;
          child.material.needsUpdate = true;
        }
      });
    });
  }
}

// Usage
const configurator = new ProductConfigurator(unicornModel);
configurator.changeColor('#ff69b4');
configurator.changeTexture('/textures/rainbow.jpg');</code></pre>

<h2>ğŸ’¡ 2025 Best Practices</h2>

<ol style="list-style:decimal;padding-left:2em;">
<li style="margin:1em 0;"><strong>Use Three.js or Babylon.js</strong> â€” Don't write raw WebGL</li>
<li style="margin:1em 0;"><strong>Optimize textures</strong> â€” Compress images, use power-of-two sizes</li>
<li style="margin:1em 0;"><strong>Limit polygon count</strong> â€” Mobile devices have constraints</li>
<li style="margin:1em 0;"><strong>Use LOD (Level of Detail)</strong> â€” Lower quality for distant objects</li>
<li style="margin:1em 0;"><strong>Implement loading screens</strong> â€” 3D assets can be large</li>
<li style="margin:1em 0;"><strong>Test on mobile</strong> â€” Performance varies widely</li>
<li style="margin:1em 0;"><strong>Use GLTF/GLB format</strong> â€” Optimized for web, widely supported</li>
<li style="margin:1em 0;"><strong>Dispose resources</strong> â€” Clean up geometries and textures when done</li>
</ol>

<h3>Performance Optimization</h3>
<pre><code>// Dispose of resources
geometry.dispose();
material.dispose();
texture.dispose();
renderer.dispose();

// Use instancing for many similar objects
const instancedMesh = new THREE.InstancedMesh(
  geometry,
  material,
  1000 // 1000 instances
);

// Frustum culling (automatic in Three.js)
// Objects outside camera view aren't rendered

// Use simpler materials when possible
// MeshBasicMaterial < MeshLambertMaterial < MeshPhongMaterial < MeshStandardMaterial

// Enable shadows only where needed
renderer.shadowMap.enabled = true;
light.castShadow = true;
mesh.castShadow = true;
mesh.receiveShadow = true;</code></pre>

<p class="a">ğŸŒŸ âœ¨ ğŸŒˆ</p>

<p><a href="index.html">Return to Unicorn Home â†’</a></p>

<div class="pf">
<h4>ğŸ® 2025 WebGL Wisdom ğŸ®</h4>
<div class="moneybags">
<p><strong>Universal Support:</strong> WebGL 2.0 works in all modern browsers. Perfect for 3D experiences!</p>
<p style="margin-top:1em;"><strong>Library Comparison:</strong></p>
<ul style="list-style:disc;padding-left:2em;margin-top:0.5em;">
<li><strong>Three.js</strong> â€” Most popular, great docs, huge community</li>
<li><strong>Babylon.js</strong> â€” Full game engine, built-in physics</li>
<li><strong>A-Frame</strong> â€” VR-focused, HTML-based, beginner-friendly</li>
<li><strong>PlayCanvas</strong> â€” Complete game engine with visual editor</li>
</ul>
<p style="margin-top:1em;"><strong>Tools:</strong> Blender (free 3D modeling), Mixamo (free animations), Sketchfab (model library)</p>
<p style="margin-top:1em;">ğŸ“± <strong>Mobile:</strong> WebGL works on mobile but performance varies. Always test on target devices!</p>
<p style="margin-top:1em;">ğŸ“š <strong>Resources:</strong> <a href="https://threejs.org/" target="_blank" style="color:#9b59b6;font-weight:bold;">Three.js Docs</a> â€¢ <a href="https://www.babylonjs.com/" target="_blank" style="color:#9b59b6;font-weight:bold;">Babylon.js</a></p>
</div>
</div>

<p class="c">ğŸ¦„ Enchanted with Unicorn Magic ğŸ¦„<br>
<small style="opacity:0.7;">Modern web standards â€¢ Unicorn magic by Web Wizards</small></p>

<script src="j/jquery.js"></script>
<script src="j/dih5.js"></script>

</body>
</html>
