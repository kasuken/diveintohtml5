<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML5 Drag and Drop API - Interactive File Uploads and Sortable Lists</title>
<meta name="description" content="Master the Drag and Drop API. Build file upload interfaces, sortable lists, and interactive UIs with native HTML5 drag and drop.">
<meta name="keywords" content="drag and drop, HTML5 drag drop, file upload, DataTransfer, sortable lists, interactive UI">
<meta name="author" content="Web Development Education">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://kasuken.github.io/diveintohtml5/dragdrop.html">

<!-- Open Graph Meta Tags -->
<meta property="og:title" content="HTML5 Drag and Drop API - Interactive File Uploads and Sortable Lists">
<meta property="og:description" content="Master the Drag and Drop API. Build file upload interfaces, sortable lists, and interactive UIs with native HTML5 drag and drop.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kasuken.github.io/diveintohtml5/dragdrop.html">
<meta property="og:image" content="https://kasuken.github.io/diveintohtml5/i/unicorn-og.png">

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="HTML5 Drag and Drop API - Interactive File Uploads and Sortable Lists">
<meta name="twitter:description" content="Master the Drag and Drop API. Build file upload interfaces, sortable lists, and interactive UIs with native HTML5 drag and drop.">
<meta name="twitter:image" content="https://kasuken.github.io/diveintohtml5/i/unicorn-og.png">

<link rel="stylesheet" href="unicorn-style.css">
<style>
h1:before{content:"Moving Magic: "}
.drop-zone {
  border: 3px dashed #9b59b6;
  border-radius: 15px;
  padding: 2em;
  margin: 1em 0;
  text-align: center;
  background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,105,180,0.1));
  transition: all 0.3s ease;
}
.drop-zone.dragover {
  background: linear-gradient(135deg, rgba(255,215,0,0.3), rgba(255,105,180,0.3));
  border-color: #ff69b4;
  transform: scale(1.02);
}
.draggable-item {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  padding: 1em 2em;
  margin: 0.5em;
  border-radius: 10px;
  cursor: move;
  display: inline-block;
  transition: all 0.3s ease;
}
.draggable-item:hover {
  transform: scale(1.05);
  box-shadow: 0 5px 20px rgba(155,89,182,0.5);
}
.draggable-item.dragging {
  opacity: 0.5;
}
</style>
</head>
<body>

<p>ğŸ¦„ You are here: <a href="index.html">Unicorn Home</a> <span class="u">âœ¨</span> <a href="index.html">Dive Into Unicorn Magic</a> <span class="u">âœ¨</span></p>

<h1><br>Moving Unicorns with Grace</h1>

<p class="a">ğŸŒŸ âœ¨ ğŸŒˆ</p>

<p class="f"><span style="font-size:4em;float:left;line-height:0.8;margin:0.1em 0.2em 0 0;background:linear-gradient(45deg,#ffd700,#ff69b4,#87ceeb,#9b59b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:bold;">D</span>rag and Drop lets users move elements around your page by grabbing them with their cursor â€” just like rearranging magical unicorn figurines! HTML5's native Drag and Drop API provides a powerful, accessible way to create intuitive interfaces.</p>

<h2>âœ¨ Making Elements Draggable</h2>

<p>Simply add the <code>draggable</code> attribute to make any element moveable:</p>

<pre><code>&lt;div class="unicorn" draggable="true"&gt;
  ğŸ¦„ Sparkles
&lt;/div&gt;</code></pre>

<h2>ğŸ¯ The Complete Drag & Drop Flow</h2>

<p>A drag operation involves several events:</p>

<h3>On the Draggable Element:</h3>
<ul style="list-style:disc;padding-left:2em;">
<li style="margin:0.5em 0;"><code>dragstart</code> â€” User starts dragging</li>
<li style="margin:0.5em 0;"><code>drag</code> â€” Element is being dragged</li>
<li style="margin:0.5em 0;"><code>dragend</code> â€” Drag operation ends</li>
</ul>

<h3>On the Drop Target:</h3>
<ul style="list-style:disc;padding-left:2em;">
<li style="margin:0.5em 0;"><code>dragenter</code> â€” Dragged element enters drop zone</li>
<li style="margin:0.5em 0;"><code>dragover</code> â€” Dragged element is over drop zone</li>
<li style="margin:0.5em 0;"><code>dragleave</code> â€” Dragged element leaves drop zone</li>
<li style="margin:0.5em 0;"><code>drop</code> â€” Element is dropped</li>
</ul>

<h2>ğŸš€ Modern Implementation (2025)</h2>

<pre><code>// Make element draggable
const unicorn = document.querySelector('.unicorn');

unicorn.addEventListener('dragstart', (e) => {
  // Set data to transfer
  e.dataTransfer.effectAllowed = 'move';
  e.dataTransfer.setData('text/plain', e.target.id);
  
  // Optional: Set custom drag image
  const dragImage = document.createElement('div');
  dragImage.textContent = 'ğŸ¦„';
  dragImage.style.fontSize = '50px';
  e.dataTransfer.setDragImage(dragImage, 25, 25);
  
  // Add visual feedback
  e.target.classList.add('dragging');
});

unicorn.addEventListener('dragend', (e) => {
  e.target.classList.remove('dragging');
});

// Setup drop zone
const dropZone = document.querySelector('.drop-zone');

dropZone.addEventListener('dragover', (e) => {
  // Must prevent default to allow drop!
  e.preventDefault();
  e.dataTransfer.dropEffect = 'move';
  dropZone.classList.add('dragover');
});

dropZone.addEventListener('dragleave', (e) => {
  dropZone.classList.remove('dragover');
});

dropZone.addEventListener('drop', (e) => {
  e.preventDefault();
  dropZone.classList.remove('dragover');
  
  // Get the dragged element's data
  const id = e.dataTransfer.getData('text/plain');
  const draggedElement = document.getElementById(id);
  
  // Move the element
  dropZone.appendChild(draggedElement);
  
  console.log('âœ… Unicorn dropped successfully!');
});</code></pre>

<h2>ğŸ¨ Interactive Demo</h2>

<p><strong>Drag these unicorns into the meadow below:</strong></p>

<div style="background:rgba(255,255,255,0.5);padding:1em;border-radius:10px;margin:1em 0;">
  <div class="draggable-item" draggable="true" id="unicorn1">ğŸ¦„ Sparkles</div>
  <div class="draggable-item" draggable="true" id="unicorn2">ğŸ¦„ Rainbow</div>
  <div class="draggable-item" draggable="true" id="unicorn3">ğŸ¦„ Stardust</div>
</div>

<div class="drop-zone" id="meadow">
  <h3 style="color:#9b59b6;">ğŸŒ¸ Unicorn Meadow ğŸŒ¸</h3>
  <p style="opacity:0.7;">Drag unicorns here!</p>
</div>

<h2>ğŸ“¦ DataTransfer Object</h2>

<p>The <code>dataTransfer</code> object carries information during drag operations:</p>

<h3>Setting Data</h3>
<pre><code>// Simple text
e.dataTransfer.setData('text/plain', 'Hello unicorn!');

// JSON data (stringify it!)
const unicornData = { name: 'Sparkles', power: 9000 };
e.dataTransfer.setData('application/json', JSON.stringify(unicornData));

// Multiple formats
e.dataTransfer.setData('text/plain', 'Sparkles');
e.dataTransfer.setData('text/html', '&lt;strong&gt;Sparkles&lt;/strong&gt;');</code></pre>

<h3>Getting Data</h3>
<pre><code>dropZone.addEventListener('drop', (e) => {
  e.preventDefault();
  
  // Get text
  const text = e.dataTransfer.getData('text/plain');
  
  // Get JSON
  const jsonData = e.dataTransfer.getData('application/json');
  const data = JSON.parse(jsonData);
  
  console.log(data.name, data.power);
});</code></pre>

<h2>ğŸ–¼ï¸ Drag Effects & Visual Feedback</h2>

<pre><code>// Set allowed effects
e.dataTransfer.effectAllowed = 'move'; // or 'copy', 'link', 'copyMove', 'all'

// Set actual effect (on drop target)
e.dataTransfer.dropEffect = 'move'; // or 'copy', 'link', 'none'

// Custom drag image
const img = new Image();
img.src = 'unicorn-icon.png';
e.dataTransfer.setDragImage(img, 25, 25); // image, offsetX, offsetY</code></pre>

<h2>ğŸ“ File Drag & Drop</h2>

<p>One of the most powerful uses â€” drag files from desktop to browser!</p>

<pre><code>const dropZone = document.getElementById('file-drop');

dropZone.addEventListener('dragover', (e) => {
  e.preventDefault();
  e.dataTransfer.dropEffect = 'copy';
});

dropZone.addEventListener('drop', async (e) => {
  e.preventDefault();
  
  // Get dropped files
  const files = Array.from(e.dataTransfer.files);
  
  for (const file of files) {
    console.log('File:', file.name, file.size, file.type);
    
    // Process image files
    if (file.type.startsWith('image/')) {
      const img = await createImageFromFile(file);
      dropZone.appendChild(img);
    }
  }
});

async function createImageFromFile(file) {
  return new Promise((resolve) => {
    const reader = new FileReader();
    reader.onload = (e) => {
      const img = document.createElement('img');
      img.src = e.target.result;
      img.style.maxWidth = '200px';
      img.style.margin = '10px';
      resolve(img);
    };
    reader.readAsDataURL(file);
  });
}</code></pre>

<h3>File Upload Example</h3>
<pre><code>// Drag & drop file upload
const uploadZone = document.getElementById('upload-zone');

uploadZone.addEventListener('drop', async (e) => {
  e.preventDefault();
  
  const files = e.dataTransfer.files;
  
  for (const file of files) {
    await uploadFile(file);
  }
});

async function uploadFile(file) {
  const formData = new FormData();
  formData.append('file', file);
  
  try {
    const response = await fetch('/api/upload', {
      method: 'POST',
      body: formData
    });
    
    const result = await response.json();
    console.log('âœ… Uploaded:', result);
  } catch (error) {
    console.error('âŒ Upload failed:', error);
  }
}</code></pre>

<h2>ğŸ¯ Sortable Lists</h2>

<p>Create reorderable lists with drag & drop:</p>

<pre><code>class SortableList {
  constructor(listElement) {
    this.list = listElement;
    this.items = Array.from(listElement.children);
    this.draggedItem = null;
    
    this.items.forEach(item => {
      item.draggable = true;
      item.addEventListener('dragstart', this.handleDragStart.bind(this));
      item.addEventListener('dragover', this.handleDragOver.bind(this));
      item.addEventListener('drop', this.handleDrop.bind(this));
      item.addEventListener('dragend', this.handleDragEnd.bind(this));
    });
  }
  
  handleDragStart(e) {
    this.draggedItem = e.target;
    e.target.classList.add('dragging');
    e.dataTransfer.effectAllowed = 'move';
  }
  
  handleDragOver(e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
    
    const afterElement = this.getDragAfterElement(e.clientY);
    if (afterElement == null) {
      this.list.appendChild(this.draggedItem);
    } else {
      this.list.insertBefore(this.draggedItem, afterElement);
    }
  }
  
  handleDrop(e) {
    e.preventDefault();
  }
  
  handleDragEnd(e) {
    e.target.classList.remove('dragging');
    this.saveOrder();
  }
  
  getDragAfterElement(y) {
    const draggableElements = [
      ...this.list.querySelectorAll('li:not(.dragging)')
    ];
    
    return draggableElements.reduce((closest, child) => {
      const box = child.getBoundingClientRect();
      const offset = y - box.top - box.height / 2;
      
      if (offset < 0 && offset > closest.offset) {
        return { offset: offset, element: child };
      } else {
        return closest;
      }
    }, { offset: Number.NEGATIVE_INFINITY }).element;
  }
  
  saveOrder() {
    const order = Array.from(this.list.children).map((item, index) => ({
      id: item.id,
      position: index
    }));
    console.log('New order:', order);
    // Save to server/localStorage
  }
}

// Usage
const sortableList = new SortableList(document.getElementById('sortable-list'));</code></pre>

<h2>â™¿ Accessibility Considerations</h2>

<p>Drag & drop isn't accessible to keyboard users or screen readers by default. Always provide alternatives!</p>

<pre><code>// Add keyboard support
element.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') {
    // Toggle selection
    element.classList.toggle('selected');
  }
  
  if (e.key === 'ArrowUp' && element.previousElementSibling) {
    moveElement(element, 'up');
  }
  
  if (e.key === 'ArrowDown' && element.nextElementSibling) {
    moveElement(element, 'down');
  }
});

// Provide buttons as alternative
&lt;button onclick="moveUp()"&gt;â†‘ Move Up&lt;/button&gt;
&lt;button onclick="moveDown()"&gt;â†“ Move Down&lt;/button&gt;</code></pre>

<h2>ğŸ“š Modern Alternatives</h2>

<p>For complex drag & drop, consider these libraries:</p>

<ul style="list-style:disc;padding-left:2em;">
<li style="margin:0.5em 0;"><strong>SortableJS</strong> â€” Lightweight, touch-friendly sorting</li>
<li style="margin:0.5em 0;"><strong>interact.js</strong> â€” Powerful drag, drop, resize library</li>
<li style="margin:0.5em 0;"><strong>React DnD</strong> â€” Drag & drop for React apps</li>
<li style="margin:0.5em 0;"><strong>Vue Draggable</strong> â€” For Vue.js applications</li>
<li style="margin:0.5em 0;"><strong>dnd-kit</strong> â€” Modern, accessible drag & drop</li>
</ul>

<h2>ğŸ’¡ 2025 Best Practices</h2>

<ol style="list-style:decimal;padding-left:2em;">
<li style="margin:1em 0;"><strong>Always preventDefault on dragover</strong> â€” Required for drop to work!</li>
<li style="margin:1em 0;"><strong>Provide visual feedback</strong> â€” Show where items can be dropped</li>
<li style="margin:1em 0;"><strong>Support touch devices</strong> â€” Consider libraries with touch support</li>
<li style="margin:1em 0;"><strong>Make it accessible</strong> â€” Provide keyboard alternatives</li>
<li style="margin:1em 0;"><strong>Handle errors gracefully</strong> â€” What if drop fails?</li>
<li style="margin:1em 0;"><strong>Test on mobile</strong> â€” Native drag & drop is limited on touch</li>
<li style="margin:1em 0;"><strong>Clean up event listeners</strong> â€” Remove when elements destroyed</li>
</ol>

<p class="a">ğŸŒŸ âœ¨ ğŸŒˆ</p>

<p><a href="notifications.html">Continue to Web Notifications: Magical Alerts â†’</a></p>

<div class="pf">
<h4>ğŸ¯ 2025 Drag & Drop Wisdom ğŸ¯</h4>
<div class="moneybags">
<p><strong>Universal Support:</strong> Drag & Drop API works in all modern browsers, but implementation varies on mobile!</p>
<p style="margin-top:1em;"><strong>Common Use Cases:</strong></p>
<ul style="list-style:disc;padding-left:2em;margin-top:0.5em;">
<li>Reorderable lists (tasks, playlists)</li>
<li>File uploads (drag from desktop)</li>
<li>Kanban boards (drag cards between columns)</li>
<li>Form builders (drag form elements)</li>
<li>Image galleries (rearrange photos)</li>
</ul>
<p style="margin-top:1em;"><strong>Mobile:</strong> Native HTML5 drag & drop has limited touch support. Use libraries like SortableJS or interact.js for better mobile experience!</p>
<p style="margin-top:1em;">â™¿ <strong>Accessibility:</strong> Always provide keyboard navigation and button alternatives for drag & drop operations!</p>
<p style="margin-top:1em;">ğŸ“š <strong>Resources:</strong> <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API" target="_blank" style="color:#9b59b6;font-weight:bold;">MDN Drag & Drop</a></p>
</div>
</div>

<p class="c">ğŸ¦„ Enchanted with Unicorn Magic ğŸ¦„<br>
<small style="opacity:0.7;">Modern web standards â€¢ Unicorn magic by Web Wizards</small></p>

<script src="j/jquery.js"></script>
<script src="j/dih5.js"></script>
<script>
// Demo functionality
const draggables = document.querySelectorAll('.draggable-item');
const meadow = document.getElementById('meadow');

draggables.forEach(item => {
  item.addEventListener('dragstart', (e) => {
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('text/plain', e.target.id);
    e.target.classList.add('dragging');
  });
  
  item.addEventListener('dragend', (e) => {
    e.target.classList.remove('dragging');
  });
});

meadow.addEventListener('dragover', (e) => {
  e.preventDefault();
  e.dataTransfer.dropEffect = 'move';
  meadow.classList.add('dragover');
});

meadow.addEventListener('dragleave', (e) => {
  meadow.classList.remove('dragover');
});

meadow.addEventListener('drop', (e) => {
  e.preventDefault();
  meadow.classList.remove('dragover');
  
  const id = e.dataTransfer.getData('text/plain');
  const element = document.getElementById(id);
  meadow.appendChild(element);
});
</script>

</body>
</html>
