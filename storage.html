<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<title>Storage - Dive Into Unicorn Magic âœ¨ğŸ¦„</title>
<link rel="stylesheet" href="unicorn-style.css">
</head>
<body>

<p>ğŸ¦„ You are here: <a href="index.html">Unicorn Home</a> <span class="u">âœ¨</span> <a href="index.html">Dive Into Unicorn Magic</a> <span class="u">âœ¨</span></p>

<h1>The Unicorn's Treasure Chest: A Place for Your Magical Items</h1>

<p class="a">ğŸŒŸ âœ¨ ğŸŒˆ</p>

<p class="f"><span style="font-size:4em;float:left;line-height:0.8;margin:0.1em 0.2em 0 0;background:linear-gradient(45deg,#ffd700,#ff69b4,#87ceeb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:bold;">E</span>very unicorn needs a treasure chest to store their magical items â€” rainbow dust, sparkle potions, and enchanted carrots. Similarly, web applications need a place to store data. Enter <strong>localStorage</strong> and <strong>sessionStorage</strong> â€” magical chests that live right in the browser!</p>

<h2>ğŸ’ localStorage vs sessionStorage</h2>

<p><strong>localStorage</strong> is like a permanent treasure chest. Data stored here persists even after you close the browser â€” it's there forever (or until explicitly deleted).</p>

<p><strong>sessionStorage</strong> is like a temporary pouch. Data lasts only for the current session (until you close the tab).</p>

<h2>ğŸ”® Basic Usage</h2>

<p>Using localStorage is magically simple:</p>

<pre><code>// Store a magical item
localStorage.setItem('unicornName', 'Sparkles');

// Retrieve it later
var name = localStorage.getItem('unicornName');
console.log(name); // 'Sparkles'

// Remove an item
localStorage.removeItem('unicornName');

// Clear everything
localStorage.clear();</code></pre>

<p>sessionStorage works exactly the same way:</p>

<pre><code>sessionStorage.setItem('tempMagic', 'âœ¨');
var magic = sessionStorage.getItem('tempMagic');</code></pre>

<h2>ğŸ“¦ What Can You Store?</h2>

<p>localStorage and sessionStorage can only store strings. But you can store complex objects by converting them to JSON:</p>

<pre><code>// Store an object
var unicorn = {
  name: 'Rainbow Dash',
  color: 'rainbow',
  hornLength: 15,
  magicPower: 9000
};

localStorage.setItem('myUnicorn', JSON.stringify(unicorn));

// Retrieve and parse
var stored = localStorage.getItem('myUnicorn');
var unicorn = JSON.parse(stored);
console.log(unicorn.name); // 'Rainbow Dash'</code></pre>

<h2>ğŸ¯ Practical Example</h2>

<pre><code>// Save user preferences
function savePreferences() {
  var prefs = {
    theme: 'unicorn-rainbow',
    fontSize: 'large',
    showSparkles: true
  };
  localStorage.setItem('userPrefs', JSON.stringify(prefs));
}

// Load preferences on page load
function loadPreferences() {
  var stored = localStorage.getItem('userPrefs');
  if (stored) {
    var prefs = JSON.parse(stored);
    applyTheme(prefs.theme);
    setFontSize(prefs.fontSize);
    toggleSparkles(prefs.showSparkles);
  }
}</code></pre>

<h2>âš¡ Storage Events</h2>

<p>You can listen for changes to storage (useful when multiple tabs are open):</p>

<pre><code>window.addEventListener('storage', function(e) {
  if (e.key === 'unicornCount') {
    console.log('Unicorns changed from', e.oldValue, 'to', e.newValue);
  }
});</code></pre>

<h2>ğŸ“ Limits and Considerations</h2>

<ul style="list-style:disc;padding-left:2em;">
<li style="margin:0.5em 0;"><strong>Size limit:</strong> Usually 5-10MB per domain (plenty for most magical needs)</li>
<li style="margin:0.5em 0;"><strong>Synchronous:</strong> Operations block the main thread (usually fast enough)</li>
<li style="margin:0.5em 0;"><strong>String only:</strong> Remember to JSON.stringify objects</li>
<li style="margin:0.5em 0;"><strong>Per origin:</strong> Data is separate for each domain</li>
<li style="margin:0.5em 0;"><strong>Not secure:</strong> Don't store sensitive data like passwords!</li>
</ul>

<h2>ğŸ—„ï¸ IndexedDB for Bigger Magic</h2>

<p>For larger amounts of data, there's <strong>IndexedDB</strong> â€” a full database in the browser! It's more complex but much more powerful:</p>

<pre><code>// IndexedDB is more complex, but worth it for big data
var request = indexedDB.open('UnicornDB', 1);

request.onsuccess = function(event) {
  var db = event.target.result;
  // Now you can store lots of magical data!
};</code></pre>

<blockquote>
<p>"The best storage is the one that fits your needs. localStorage for simple preferences, IndexedDB for a whole magical inventory system!"</p>
<cite>â€” Data Wizard Proverb</cite>
</blockquote>

<p class="a">ğŸŒŸ âœ¨ ğŸŒˆ</p>

<p><a href="offline.html">Continue to Chapter 9: Unicorn Magic That Works Offline â†’</a></p>

<div class="pf">
<h4>ğŸ’¾ Storage Wisdom ğŸ’¾</h4>
<div class="moneybags">
<p>localStorage is perfect for saving user preferences, shopping carts, form data, and other small pieces of information. For larger applications, consider IndexedDB or cloud storage solutions!</p>
<p style="margin-top:1em;">Pro tip: Always wrap localStorage calls in try-catch blocks, as some browsers disable it in private browsing mode!</p>
</div>
</div>

<p class="c">ğŸ¦„ Enchanted with Unicorn Magic ğŸ¦„<br>
<small style="opacity:0.7;">Original wisdom by <a href="about.html">Mark Pilgrim</a> â€¢ Unicorn magic by Web Wizards</small></p>

<script src="j/jquery.js"></script>
<script src="j/dih5.js"></script>

</body>
</html>
